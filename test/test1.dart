Map<String, dynamic>? castMap(Map? map) {
  if (map == null) return null;
  return map.cast<String, dynamic>();
}

void main() {
  Map rawMap = {'key': 'value', 'age': null}; // 任意类型的 Map
  Map<String, dynamic>? result = castMap(rawMap); // 转换为 Map<String, dynamic>

  print(result); // 输出: {key: value, age: 25}

  Map? nullMap;
  Map<String, dynamic>? resultNull = castMap(nullMap);

  print(resultNull); // 输出: null

  List<String>? str = null;
  print(str!.isNotEmpty);

  // String str1 = `{\"msg\":\"我的新歌《随心所爱 (Live)》正式发布啦！快来听听吧~\",\"song\":{\"name\":\"随心所爱 (Live)\",\"id\":2633253125,\"position\":0,\"alias\":[],\"status\":0,\"fee\":8,\"copyrightId\":4586609,\"disc\":\"01\",\"no\":6,\"artists\":[{\"name\":\"黄子弘凡\",\"id\":34862670,\"picId\":0,\"img1v1Id\":0,\"briefDesc\":\"\",\"picUrl\":\"http://p4.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\",\"img1v1Url\":\"http://p3.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\",\"albumSize\":0,\"alias\":[],\"trans\":\"\",\"musicSize\":0,\"topicPerson\":0},{\"name\":\"尚雯婕\",\"id\":9276,\"picId\":0,\"img1v1Id\":0,\"briefDesc\":\"\",\"picUrl\":\"http://p4.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\",\"img1v1Url\":\"http://p3.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\",\"albumSize\":0,\"alias\":[],\"trans\":\"\",\"musicSize\":0,\"topicPerson\":0}],\"album\":{\"name\":\"我们的歌第六季 第十二期\",\"id\":249690687,\"type\":\"EP\",\"size\":9,\"picId\":109951170012537133,\"blurPicUrl\":\"http://p3.music.126.net/oy2IrWS6EXcl15GsZvd88Q==/109951170012537133.jpg\",\"companyId\":0,\"pic\":109951170012537133,\"picUrl\":\"http://p4.music.126.net/oy2IrWS6EXcl15GsZvd88Q==/109951170012537133.jpg\",\"publishTime\":1728144000000,\"description\":\"\",\"tags\":\"\",\"company\":\"东方卫视\",\"briefDesc\":\"\",\"artist\":{\"name\":\"\",\"id\":0,\"picId\":0,\"img1v1Id\":0,\"briefDesc\":\"\",\"picUrl\":\"http://p4.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\",\"img1v1Url\":\"http://p3.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\",\"albumSize\":0,\"alias\":[],\"trans\":\"\",\"musicSize\":0,\"topicPerson\":0},\"songs\":[],\"alias\":[],\"status\":1,\"copyrightId\":4586609,\"commentThreadId\":\"R_AL_3_249690687\",\"artists\":[{\"name\":\"我们的歌\",\"id\":33560726,\"picId\":0,\"img1v1Id\":0,\"briefDesc\":\"\",\"picUrl\":\"http://p3.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\",\"img1v1Url\":\"http://p3.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\",\"albumSize\":0,\"alias\":[],\"trans\":\"\",\"musicSize\":0,\"topicPerson\":0}],\"subType\":\"现场版\",\"transName\":null,\"picId_str\":\"109951170012537133\"},\"starred\":false,\"popularity\":5.0,\"score\":5,\"starredNum\":0,\"duration\":236638,\"playedNum\":0,\"dayPlays\":0,\"hearTime\":0,\"ringtone\":\"\",\"crbt\":null,\"audition\":null,\"copyFrom\":\"\",\"commentThreadId\":\"R_SO_4_2633253125\",\"rtUrl\":null,\"ftype\":0,\"rtUrls\":[],\"copyright\":0,\"transName\":null,\"sign\":null,\"mvid\":0,\"bMusic\":{\"name\":null,\"id\":11548663322,\"size\":3787053,\"extension\":\"mp3\",\"sr\":48000,\"dfsId\":0,\"bitrate\":128000,\"playTime\":236638,\"volumeDelta\":-44723.0},\"mp3Url\":null,\"hMusic\":{\"name\":null,\"id\":11548663324,\"size\":9467565,\"extension\":\"mp3\",\"sr\":48000,\"dfsId\":0,\"bitrate\":320000,\"playTime\":236638,\"volumeDelta\":-49034.0},\"mMusic\":{\"name\":null,\"id\":11548663323,\"size\":5680557,\"extension\":\"mp3\",\"sr\":48000,\"dfsId\":0,\"bitrate\":192000,\"playTime\":236638,\"volumeDelta\":-46448.0},\"lMusic\":{\"name\":null,\"id\":11548663322,\"size\":3787053,\"extension\":\"mp3\",\"sr\":48000,\"dfsId\":0,\"bitrate\":128000,\"playTime\":236638,\"volumeDelta\":-44723.0},\"rtype\":0,\"rurl\":null},\"type\":1,\"title\":\"分享单曲\"}","lastMsgTime": 1728225876856,"newMsgCount": 0,"lastMsgUserId": null,"msgSenderType": 1,"lastMsgId": 236729593635},{"user": {"id": 27301388209,"toUserId": 265031418,"fromUserId": 360497531,"msgCount": 90,"newMsgCount": 13,"lastMsgTime": 1727973792159,"lastMsg": "{\"msgId\":236497819334,\"msg\":\"{\\\"msg\\\":\\\"我的最新专辑《Black Friday (pretty like the sun)》发布了, 快来抢先听！\\\",\\\"album\\\":{\\\"name\\\":\\\"Black Friday (pretty like the sun)\\\",\\\"id\\\":248982353,\\\"type\\\":\\\"专辑\\\",\\\"size\\\":3,\\\"picId\\\":109951170004603624,\\\"blurPicUrl\\\":\\\"http://p3.music.126.net/smVpzHTDJzsBIWy2wEnZEg==/109951170004603624.jpg\\\",\\\"companyId\\\":0,\\\"pic\\\":109951170004603624,\\\"picUrl\\\":\\\"http://p3.music.126.net/smVpzHTDJzsBIWy2wEnZEg==/109951170004603624.jpg\\\",\\\"publishTime\\\":1727971200000,\\\"description\\\":\\\"\\\",\\\"tags\\\":\\\"\\\",\\\"company\\\":\\\"UROK\\\",\\\"briefDesc\\\":\\\"\\\",\\\"artist\\\":{\\\"name\\\":\\\"Lost Frequencies\\\",\\\"id\\\":1039114,\\\"picId\\\":109951169043009861,\\\"img1v1Id\\\":109951169056615306,\\\"briefDesc\\\":\\\"\\\",\\\"picUrl\\\":\\\"http://p4.music.126.net/s8HlHVOJAiFXmIcOep1WVA==/109951169043009861.jpg\\\",\\\"img1v1Url\\\":\\\"http://p4.music.126.net/azBVZj351Sqi754XkxM8Rg==/109951169056615306.jpg\\\",\\\"albumSize\\\":140,\\\"alias\\\":[],\\\"trans\\\":\\\"失频\\\",\\\"musicSize\\\":652,\\\"topicPerson\\\":0,\\\"picId_str\\\":\\\"109951169043009861\\\",\\\"transNames\\\":[\\\"失频\\\"],\\\"img1v1Id_str\\\":\\\"109951169056615306\\\"},\\\"songs\\\":[],\\\"alias\\\":[],\\\"status\\\":1,\\\"copyrightId\\\":1416512,\\\"commentThreadId\\\":\\\"R_AL_3_248982353\\\",\\\"artists\\\":[{\\\"name\\\":\\\"Lost Frequencies\\\",\\\"id\\\":1039114,\\\"picId\\\":0,\\\"img1v1Id\\\":0,\\\"briefDesc\\\":\\\"\\\",\\\"picUrl\\\":\\\"http://p4.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\\\",\\\"img1v1Url\\\":\\\"http://p3.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\\\",\\\"albumSize\\\":0,\\\"alias\\\":[],\\\"trans\\\":\\\"\\\",\\\"musicSize\\\":0,\\\"topicPerson\\\":0},{\\\"name\\\":\\\"Tom Odell\\\",\\\"id\\\":711016,\\\"picId\\\":0,\\\"img1v1Id\\\":0,\\\"briefDesc\\\":\\\"\\\",\\\"picUrl\\\":\\\"http://p3.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\\\",\\\"img1v1Url\\\":\\\"http://p3.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg\\\",\\\"albumSize\\\":0,\\\"alias\\\":[],\\\"trans\\\":\\\"\\\",\\\"musicSize\\\":0,\\\"topicPerson\\\":0}],\\\"subType\\\":\\\"录音室版\\\",\\\"transName\\\":null,\\\"picId_str\\\":\\\"109951170004603624\\\"},\\\"newPub\\\":true,\\\"type\\\":2}\"}`;
  // print(json.decode(str1));
}
